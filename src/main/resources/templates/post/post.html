<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css"
    />
    <link
    rel="stylesheet"
    type="text/css"
    href="./post.css"
  />

    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-3.5.1.js"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"
    ></script>
    <title>Document</title>
  </head>
  <body>
   
    <table
      id="jquery-datatable-example-no-configuration"
      class="display"
      style="width: 100%"
     >
    
      <thead>
        <tr>
          <th >Tiêu đề</th>
          <th> Danh mục</th>
          <th >Thành phố</th>
          <th >Ngày tháng</th>
        </tr>
      </thead>
     
      <tbody th:each="post : ${loadPost}">
        <img
      
        style="width: 50px; height: 50px;"
        id="myBtn" 

        ></img>
        <tr>
          <td th:text="*{post.title}"></td>
          <td  th:text="*{post.categoryName}"></td>
          <td th:text="*{post.city}"></td>
          <td th:text="*{post.dateTime}"></td>
        </tr>
       
       
       
      </tbody>
    </table>
    <div id="myModal" class="modal">
      <!-- Nội dung form đăng nhập -->
      <div class="modal-content">
          <form   th:action="@{/post/create}"
                  th:object="${post}"
                  method="post">
              <span class="close">&times;</span>
              <h2>Tạo bài viết mới</h2>
              <div class="fomrgroup">
                  <b>Tiêu đề</b>
                  <input type="text" name="title" id="title" th:field="*{title}">
              </div>
             
              <div class="fomrgroup">
                <b>Danh mục</b>
                <input type="text" name="categoryName" id="categoryName" th:field="*{categoryName}">
            </div>
            <div class="fomrgroup">
              <b>Thời gian</b>
              <input type="date" name="dateTime" id="dateTime" th:field="*{dateTime}">
          </div>
          
          <div class="form-outline w-25 mb-3">
            <textarea class="form-control" id="textAreaExample1" rows="4" name="content" id="content" th:field="*{content}"></textarea>
            <label class="form-label" for="textAreaExample">Nội dung</label>
          </div>
              <div class="fomrgroup">
                  <button type="submit">Tạo mới</button>
              </div>
          </form>
      </div>
  </div>
    
  </body>

  <script type="text/javascript">
    $(document).ready(function () {
    
      $("#jquery-datatable-example-no-configuration").DataTable();
    });
    var modal = document.getElementById('myModal');
  
  // Lấy phần button mở Modal
  var btn = document.getElementById("myBtn");

  // Lấy phần span đóng Modal
  var span = document.getElementsByClassName("close")[0];

  // Khi button được click thi mở Modal
  btn.onclick = function() {
      modal.style.display = "block";
  }

  // Khi span được click thì đóng Modal
  span.onclick = function() {
      modal.style.display = "none";
  }

  // Khi click ngoài Modal thì đóng Modal
  window.onclick = function(event) {
      if (event.target == modal) {
          modal.style.display = "none";
      }
  }
  </script>
  
</html>
